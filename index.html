<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Alper — personal portfolio and showcase. Projects, skills and contact.">
    <title>Alper - Personal Showcase</title>
    <!-- Immediate serif fallback while Galaxie Copernicus is hosted locally (or upload licensed files) -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root{
            /* brown / gold streaming palette inspired by the attachment */
            --bg-900: #0b0704; /* darkest */
            --bg-800: #1a1109; 
            --bg-700: #3b2814; /* warm brown */
            --accent: #f6e4c7; /* pale gold */
            --gold: #d6a24b; /* highlight */
            --muted: rgba(246,228,199,0.6);
            --glass: rgba(255,255,255,0.03);
            --card: rgba(255,255,255,0.02);
            --radius: 12px;
        }

        *{box-sizing:border-box;margin:0;padding:0}

        /*
         To use Galaxie Copernicus you must host licensed font files locally or use a licensed webfont service.
         Place your font files in a `fonts/` folder next to this HTML and keep file names like:
           - fonts/GalaxieCopernicus-Regular.woff2
           - fonts/GalaxieCopernicus-Bold.woff2
         If you do not have a license, consider a free alternative (see notes below).
        */

        @font-face{
            font-family: 'Galaxie Copernicus';
            src: url('./fonts/GalaxieCopernicus-Regular.woff2') format('woff2'),
                 url('./fonts/GalaxieCopernicus-Regular.woff') format('woff');
            font-weight: 400;
            font-style: normal;
            font-display: swap;
        }

        @font-face{
            font-family: 'Galaxie Copernicus';
            src: url('./fonts/GalaxieCopernicus-Bold.woff2') format('woff2'),
                 url('./fonts/GalaxieCopernicus-Bold.woff') format('woff');
            font-weight: 700;
            font-style: normal;
            font-display: swap;
        }

        html{scroll-behavior:smooth}

        body{
            /* Prefer Galaxie Copernicus if available, otherwise use Playfair Display from Google Fonts */
            font-family: 'Galaxie Copernicus', 'Playfair Display', 'Segoe UI', Tahoma, Geneva, Verdana, serif;
            min-height:100vh;
            color:var(--accent);
            background:linear-gradient(135deg,var(--bg-700) 0%,var(--bg-800) 50%,var(--bg-900) 100%);
            -webkit-font-smoothing:antialiased;
        }

    /* skip-link removed per design request */

    /* Center the header/navigation at the top (fixed) */
    header[role="banner"]{position:fixed;left:50%;top:1.25rem;transform:translateX(-50%);z-index:1200}

    .nav{display:flex;gap:.75rem;align-items:center;justify-content:center}
    /* iOS-style controls: 26x26 with 13px radius and glossy treatment */
    .nav button{width:26px;height:26px;border-radius:13px;background:linear-gradient(180deg, rgba(255,255,255,0.18), rgba(255,255,255,0.04));border:1px solid rgba(255,255,255,0.12);cursor:pointer;display:inline-flex;align-items:center;justify-content:center;box-shadow:0 6px 14px rgba(0,0,0,0.36)}
    .nav button.active, .nav button:focus{background:linear-gradient(180deg,#ffffff,#dfe9f3);transform:scale(1.03);box-shadow:0 8px 20px rgba(0,0,0,0.42);color:#111}
    .nav button:focus{outline:2px solid rgba(255,255,255,.12)}

        .hero-section{height:100vh;display:grid;place-items:center;position:relative;overflow:hidden;padding:2rem}
        .hero-backdrop{position:absolute;inset:0;pointer-events:none;background:
            radial-gradient(circle at 20% 30%, rgba(255,255,255,0.06) 0%, transparent 35%),
            radial-gradient(circle at 80% 70%, rgba(255,255,255,0.04) 0%, transparent 40%)}

        .floating-particles{position:absolute;inset:0;pointer-events:none;z-index:0}
        .particle{position:absolute;width:5px;height:5px;border-radius:50%;background:rgba(255,255,255,.22);will-change:transform,opacity}

        .hero-content{position:relative;z-index:5;text-align:center;padding:2rem}
    .hero-title{font-weight:700;letter-spacing:.12em;margin-bottom:1rem;font-size:clamp(2.5rem,6vw,4.5rem);background:linear-gradient(90deg,#fff,#cfcfcf);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
        .hero-subtitle{opacity:.85;font-weight:400;max-width:680px;margin:0 auto;font-size:clamp(1rem,2.5vw,1.2rem)}

    .cta{margin-top:1.75rem;display:inline-flex;gap:.75rem;align-items:center;justify-content:center}
    /* Make primary controls iOS-shaped: glossy pill (26px tall, 13px radius) */
    .btn{height:26px;padding:0 .9rem;border-radius:13px;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;font-size:.95rem;line-height:1;border:1px solid rgba(255,255,255,0.14);background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));color:var(--accent);backdrop-filter:blur(6px);box-shadow: 0 10px 26px rgba(0,0,0,0.45), inset 0 1px 0 rgba(255,255,255,0.04)}
    .btn.primary{background:linear-gradient(180deg,#2b5aa0,#163a6a);border:1px solid rgba(255,255,255,0.15);color:#fff;box-shadow:0 12px 34px rgba(24,44,88,0.6), inset 0 2px 12px rgba(255,255,255,0.06)}
    .btn:focus{outline:3px solid rgba(255,255,255,.08)}
    /* optional small icon spacing inside pill buttons */
    .btn .icon{display:inline-block;margin-right:.55rem;height:14px;width:14px}

        .scroll-indicator{position:absolute;bottom:1.5rem;left:50%;transform:translateX(-50%);display:flex;flex-direction:column;align-items:center;gap:.4rem;opacity:.7}
        .scroll-indicator button{background:transparent;border:0;color:var(--muted);cursor:pointer}

        main{margin-top:0}
        .content-section{min-height:100vh;padding:4rem 1.25rem;background:linear-gradient(180deg,rgba(42,42,42,0.8) 0%,rgba(26,26,26,0.9) 100%)}
    .container{max-width:1200px;margin:0 auto;padding-left:28px;padding-right:28px}
    .section-title{font-size:clamp(1.5rem,3.5vw,2.5rem);font-weight:300;margin-bottom:1rem}

        .placeholder-content{padding:2rem;border-radius:var(--radius);background:var(--card);border:1px dashed rgba(255,255,255,.06);backdrop-filter:blur(4px);opacity:1;transform:translateY(0);transition:transform .6s ease,opacity .6s ease}
        .placeholder-text{color:var(--muted);line-height:1.6}

    /* single-row horizontal scroller (one row) */
    .projects{display:flex;gap:2rem;margin-top:1.5rem;align-items:flex-start;overflow-x:auto;padding-bottom:8px;padding-top:6px;scroll-snap-type:x mandatory}

    .projects::-webkit-scrollbar{height:10px}
    .projects::-webkit-scrollbar-thumb{background:rgba(0,0,0,0.5);border-radius:6px}

    .card{background:transparent;border-radius:10px;cursor:pointer;outline:0;position:relative;flex:0 0 auto;scroll-snap-align:start}
        .poster{
            position:relative;
            /* larger poster preview for featured categories */
            width:320px; /* increased width */
            aspect-ratio: 2/3;
            /* fallback for browsers without aspect-ratio support */
            min-height:420px;
            background-color:#24170f;
            border-radius:14px;
            overflow:hidden;
            /* slightly stronger shadow for separation */
            box-shadow: 0 12px 48px rgba(0,0,0,0.44), 0 4px 12px rgba(0,0,0,0.36);
            transition:transform .28s cubic-bezier(.2,.9,.2,1),box-shadow .28s,filter .28s;
            cursor:pointer;
            background-size:cover;background-position:center center;border:1px solid rgba(0,0,0,0.18);
            display:block;
            /* brighten thumbnails further for better legibility */
            filter:brightness(1.18) contrast(1.08) saturate(1.06);
            background-blend-mode:normal;
        }
    /* ensure a gentle overlay for contrast but reduce darkness for better legibility */
    .poster::after{content:'';position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,0.0) 0%, rgba(0,0,0,0.18) 80%);pointer-events:none;transition:background .24s}

        /* faint title overlay from card data-title to help visibility when images don't load */
    /* remove overlay label for single-row layout (title will appear beneath poster) */
    .card::before{content:'';}
        /* make posters stand out from the dark background */
        .poster{border:1px solid rgba(214,162,75,0.06);box-shadow: 0 10px 34px rgba(0,0,0,0.6), 0 2px 6px rgba(214,162,75,0.03) inset}
        .poster:focus{box-shadow:0 12px 40px rgba(214,162,75,0.12);transform:translateY(-6px);filter:brightness(1.18) contrast(1.08) saturate(1.08)}
        .poster:hover{transform:translateY(-6px);box-shadow:0 18px 50px rgba(0,0,0,0.65);filter:brightness(1.18) contrast(1.08) saturate(1.08)}

    .meta{margin-top:.6rem;color:var(--muted);font-size:.85rem;display:block}
    .title{font-weight:600;color:var(--accent);font-size:.95rem;display:block;margin-bottom:4px}
    .year{color:var(--muted);font-size:.82rem}

        /* badge and progress bar */
    .badge{position:absolute;top:8px;left:8px;background:rgba(20,12,8,0.85);color:var(--gold);padding:.25rem .45rem;border-radius:6px;font-size:.75rem;font-weight:700;backdrop-filter:blur(4px);z-index:8}
    .progress-wrap{position:absolute;left:0;right:0;bottom:0;height:6px;background:linear-gradient(90deg,rgba(0,0,0,0.25),rgba(0,0,0,0.45));z-index:7}
    /* ensure meta sits below poster and isn't overlapped */
    .meta{padding-bottom:6px}
        .progress{height:100%;background:linear-gradient(90deg,var(--gold),#f3d9b0);width:0%}

        /* modal */
        .modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.36);backdrop-filter:blur(4px);z-index:2500;padding:24px;visibility:hidden;opacity:0;transition:opacity .18s,visibility .18s}
        .modal[aria-hidden="false"]{visibility:visible;opacity:1}

        .modal-content{width:100%;max-width:1100px;border-radius:12px;overflow:hidden;position:relative;background:linear-gradient(180deg, rgba(10,8,6,0.55), rgba(6,5,4,0.45));border:1px solid rgba(255,255,255,0.03);box-shadow:0 30px 80px rgba(0,0,0,0.6)}
        .modal-close{position:absolute;right:18px;top:18px;background:rgba(255,255,255,0.06);color:var(--accent);border-radius:18px;border:0;width:36px;height:36px;cursor:pointer;z-index:40}

        .modal-hero{height:340px;background-size:cover;background-position:center;border-radius:6px 6px 0 0;position:relative}
        .modal-hero-overlay{position:absolute;inset:0;background:linear-gradient(180deg, rgba(0,0,0,0.06) 0%, rgba(0,0,0,0.45) 70%);display:flex;align-items:flex-end}
        .modal-hero-inner{padding:28px;color:var(--accent);width:100%}
        .modal-hero h2, #modal-title{font-size:2.25rem;margin:0 0 8px 0}

        .modal-actions{display:flex;gap:.6rem;align-items:center}
        .btn.primary{background:var(--gold);color:#1b0f06;padding:.6rem 1rem;border-radius:8px;border:0}
        .btn{background:transparent;border:1px solid rgba(255,255,255,0.08);color:var(--accent);padding:.45rem .65rem;border-radius:8px;cursor:pointer}

        .modal-body{display:flex;gap:18px;padding:20px;background:transparent}
        .modal-desc{flex:1;color:var(--accent)}
        .meta-panel{width:260px;background:rgba(255,255,255,0.03);padding:12px;border-radius:8px;color:var(--accent);border:1px solid rgba(255,255,255,0.03)}
        .meta-row{margin-top:8px;color:var(--muted)}
        .pill{display:inline-block;background:rgba(255,255,255,0.04);padding:.35rem .6rem;border-radius:8px;margin-right:.5rem;color:var(--accent)}

    /* episodes removed — portfolio site doesn't use episode thumbnails */

        @media (max-width:900px){
            .modal-hero{height:220px}
            .modal-hero h2{font-size:1.4rem}
            .meta-panel{display:none}
            .modal-body{flex-direction:column}
        }

        @media (max-width:820px){
            .dialog{grid-template-columns:1fr;}
            .dialog .large-poster{height:320px}
        }

        footer{padding:2rem 1rem;text-align:center;color:var(--muted);font-size:.9rem}

        /* Responsive */
        @media (max-width:768px){
            header[role="banner"]{inset-block-start:.75rem;inset-inline-end:.75rem}
            .hero-subtitle{padding:0 1rem}
        }

        /* Reduced motion accessibility */
        @media (prefers-reduced-motion: reduce){
            .particle{animation:none !important}
            .hero-title, .hero-subtitle, .placeholder-content{transition:none}
            html{scroll-behavior:auto}
        }

        /* Custom scrollbar (optional) */
        ::-webkit-scrollbar{width:10px}
        ::-webkit-scrollbar-track{background:var(--bg-800)}
        ::-webkit-scrollbar-thumb{background:rgba(255,255,255,.18);border-radius:6px}
    </style>
</head>
<body>
    <!-- skip link intentionally removed per design -->

    <header role="banner" aria-label="Section navigation">
        <nav class="nav" aria-hidden="false">
            <button class="nav-dot active" data-section="hero" aria-label="Go to hero" aria-pressed="true"></button>
            <button class="nav-dot" data-section="content" aria-label="Go to content" aria-pressed="false"></button>
        </nav>
    </header>

    <section class="hero-section" id="hero">
        <div class="hero-backdrop" aria-hidden="true"></div>
        <div class="floating-particles" aria-hidden="true"></div>

        <div class="hero-content" role="region" aria-labelledby="hero-heading">
            <h1 id="hero-heading" class="hero-title">Alper</h1>
            <p class="hero-subtitle">Personal showcase — projects, skills and contact. Minimal, accessible, and responsive.</p>

            <!-- primary CTA removed per request -->
        </div>

        <div class="scroll-indicator" aria-hidden="false">
            <button id="scroll-down" aria-label="Scroll to content">SCROLL ↓</button>
        </div>
    </section>

    <main id="main">
        <section class="content-section" id="content" aria-labelledby="content-heading">
            <div class="container">
                <h2 id="content-heading" class="section-title">Featured Projects</h2>

                <!-- Featured categories: only three larger tiles now -->
                <div class="projects">
                    <article class="card" tabindex="0" data-title="Photography" data-type="Gallery" data-desc="A selection of photography work." data-image="https://i.postimg.cc/NjpRn1km/IMG-20250624-141250.jpg">
                        <div class="poster" style="background-image:url('https://i.postimg.cc/NjpRn1km/IMG-20250624-141250.jpg')" role="button" aria-label="Open Photography gallery"></div>
                        <div class="meta"><div class="title">Photography</div><div class="year"></div></div>
                    </article>

                    <article class="card" tabindex="0" data-title="Cats" data-type="Gallery" data-desc="Cute cat photos and studies." data-image="https://i.postimg.cc/mgzbx4Qj/330dade5-eb05-4198-84dc-2de931931e39.jpg">
                        <div class="poster" style="background-image:url('https://i.postimg.cc/mgzbx4Qj/330dade5-eb05-4198-84dc-2de931931e39.jpg')" role="button" aria-label="Open Cats gallery"></div>
                        <div class="meta"><div class="title">Cats</div><div class="year"></div></div>
                    </article>

                    <article class="card" tabindex="0" data-title="Vidu Ai" data-type="Portfolio" data-desc="Selected projects and case studies." data-image="https://i.postimg.cc/k48678Kj/da495496764551b621ccfc11fdcdb2b8.png" data-website="https://www.vidu.com">
                        <div class="poster" style="background-image:url('https://i.postimg.cc/k48678Kj/da495496764551b621ccfc11fdcdb2b8.png')" role="button" aria-label="Open Vidu Ai"></div>
                        <div class="meta"><div class="title">Vidu Ai</div><div class="year"></div></div>
                    </article>
                </div>
                
                <!-- Modal: sleek hero style -->
                <div class="modal" id="modal" role="dialog" aria-hidden="true" aria-labelledby="modal-title">
                    <div class="modal-content" role="document">
                        <button id="modal-close" class="modal-close" aria-label="Close">✕</button>

                        <div class="modal-hero" id="modal-poster" style="background-image:url('')" aria-hidden="true">
                            <div class="modal-hero-overlay">
                                <div class="modal-hero-inner">
                                    <h2 id="modal-title">Title</h2>
                                    <div class="modal-actions">
                                        <button class="btn primary" id="modal-resume">Live</button>
                                        <button class="btn" id="modal-add">☆</button>
                                        <button class="btn" id="modal-share">Share</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="modal-body">
                            <div class="modal-desc">
                                <p id="modal-desc">Description</p>
                                <div id="modal-tags" class="tags"></div>
                            </div>
                            <aside class="meta-panel" id="modal-side">
                                <div id="modal-meta">Type • Year</div>
                                <div class="meta-row"><strong>Technologies:</strong> <span id="modal-language">—</span></div>
                                <div class="meta-row"><strong>Role:</strong> <span id="modal-release">—</span></div>
                                <div class="meta-row"><strong>Year / Size:</strong> <span id="modal-rating">—</span></div>
                                <div style="margin-top:12px" class="meta-links">
                                    <span class="pill">Website</span>
                                    <span class="pill">Repository</span>
                                </div>
                            </aside>
                        </div>

                        <!-- episodes removed (portfolio context) -->
                    </div>
                </div>

                <div style="margin-top:2.25rem;margin-bottom:2.5rem" class="placeholder-content">
                    <p class="placeholder-text">This area can hold an about section, skills, or a longer project breakdown. Use the cards above for quick links.</p>
                </div>
            </div>
        </section>
    </main>

    <!-- footer removed per request -->

    <script>
        // Small utilities and accessibility-focused enhancements
        (function(){
            // Update year (guard in case footer/year was removed)
            const yearEl = document.getElementById('year');
            if(yearEl) yearEl.textContent = new Date().getFullYear();

            const navButtons = document.querySelectorAll('.nav button');
            const sections = document.querySelectorAll('main section, .hero-section');

            // Generate performant particles (respect reduced motion)
            const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
            const particlesContainer = document.querySelector('.floating-particles');
            if(!prefersReduced && particlesContainer){
                const num = 24; // modest count
                for(let i=0;i<num;i++){
                    const p = document.createElement('div');
                    p.className='particle';
                    const x = Math.random()*100;
                    const size = 2 + Math.random()*6;
                    p.style.left = x+'%';
                    p.style.width = size+'px';
                    p.style.height = size+'px';
                    const duration = 12 + Math.random()*18;
                    const delay = Math.random()*-duration;
                    p.style.opacity = String(0.2 + Math.random()*0.6);
                    p.style.transform = `translateY(${50 + Math.random()*200}vh)`;
                    try{
                        p.animate([
                            { transform: `translateY(${50 + Math.random()*200}vh)`, opacity: 0 },
                            { transform: `translateY(-30vh)`, opacity: p.style.opacity }
                        ],{duration:duration*1000,iterations:Infinity,delay:delay*1000,easing:'linear'});
                    }catch(e){ /* animation might not be supported in older browsers */ }
                    particlesContainer.appendChild(p);
                }
            }

            // IntersectionObserver to set active nav and reveal elements
            const ioOptions = {root:null,rootMargin:'-20% 0px -40% 0px',threshold:0};
            const observer = new IntersectionObserver((entries)=>{
                entries.forEach(entry=>{
                    if(entry.isIntersecting){
                        const id = entry.target.id;
                        navButtons.forEach(b=>{
                            const isMatch = b.getAttribute('data-section')===id;
                            b.classList.toggle('active',isMatch);
                            b.setAttribute('aria-pressed', String(isMatch));
                        });
                    }
                });
            }, ioOptions);

            sections.forEach(s=>observer.observe(s));

            // Reveal animation for cards and placeholder content
            const revealObserver = new IntersectionObserver((entries)=>{
                entries.forEach(ent=>{
                    if(ent.isIntersecting){
                        // remove hidden marker and apply visible styles
                        ent.target.classList.remove('hidden');
                        ent.target.style.opacity = '1';
                        ent.target.style.transform = 'translateY(0)';
                        revealObserver.unobserve(ent.target);
                    }
                });
            }, {threshold:0.12});

            const revealTargets = document.querySelectorAll('.card, .placeholder-content');
            revealTargets.forEach(el=>{
                el.classList.add('hidden');
                el.style.transform = 'translateY(30px)';
                el.style.opacity = '0';
                el.style.transition = 'all .6s cubic-bezier(.2,.9,.2,1)';
                revealObserver.observe(el);
            });

            // Fallback: if IntersectionObserver isn't supported or doesn't trigger, force-reveal after a short delay
            if(!('IntersectionObserver' in window)){
                revealTargets.forEach(el=>{ el.classList.remove('hidden'); el.style.opacity='1'; el.style.transform='translateY(0)'; });
            } else {
                // ensure things aren't left invisible by race conditions — reveal remaining after 350ms
                setTimeout(()=>{
                    document.querySelectorAll('.card.hidden, .placeholder-content.hidden').forEach(el=>{
                        el.classList.remove('hidden');
                        el.style.opacity = '1';
                        el.style.transform = 'translateY(0)';
                    });
                }, 350);
            }

            // When revealed, remove inline hidden styles
            const styleCleanup = (el)=>{ el.style.transform='translateY(0)'; el.style.opacity='1'; };
            // hook into mutation via observer callback
            const cleanupObserver = new MutationObserver((mutations)=>{
                mutations.forEach(m=>{
                    m.addedNodes.forEach(n=>{ if(n.classList && n.classList.contains('hidden')===false){ /*noop*/ } });
                });
            });
            cleanupObserver.observe(document.body, {childList:true,subtree:true});

            // Wire nav buttons
            navButtons.forEach(btn=>{
                btn.addEventListener('click', ()=>{
                    console.log('nav button clicked', btn.getAttribute('data-section'));
                    const id = btn.getAttribute('data-section');
                    document.getElementById(id).scrollIntoView({behavior:'smooth'});
                });
                btn.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); btn.click(); } });
            });

            // View projects CTA (removed in markup) — guard in case it's re-added
            const viewProjectsBtn = document.getElementById('view-projects');
            if(viewProjectsBtn){ viewProjectsBtn.addEventListener('click', ()=>{ document.getElementById('content').scrollIntoView({behavior:'smooth'}); }); }

            // Scroll indicator - guard presence
            const scrollDownBtn = document.getElementById('scroll-down');
            if(scrollDownBtn){ scrollDownBtn.addEventListener('click', ()=>{ const content = document.getElementById('content'); if(content) content.scrollIntoView({behavior:'smooth'}); }); }

            // Modal wiring
            const modal = document.getElementById('modal');
            const modalTitle = document.getElementById('modal-title');
            const modalDesc = document.getElementById('modal-desc');
            const modalMeta = document.getElementById('modal-meta');
            const modalPoster = document.getElementById('modal-poster');
            const modalClose = document.getElementById('modal-close');

            function openModal(data, trigger){
                // populate fields
                modalTitle.textContent = data.title;
                document.getElementById('modal-desc').textContent = data.desc || '';
                document.getElementById('modal-meta').textContent = (data.type ? data.type : '') + (data.year ? (' • ' + data.year) : '');
                document.getElementById('modal-language').textContent = data.lang || 'EN';
                document.getElementById('modal-release').textContent = data.release || '—';
                document.getElementById('modal-rating').textContent = data.rating || '—';
                // hero image
                const hero = document.getElementById('modal-poster');
                hero.style.backgroundImage = `url('${data.image}')`;

                // Populate portfolio-specific meta (Technologies, Role, Links)
                document.getElementById('modal-language').textContent = data.tech || '—';
                document.getElementById('modal-release').textContent = data.role || '—';
                document.getElementById('modal-rating').textContent = data.size || '—';

                // links - show repository / live site pills if provided
                const metaLinks = document.querySelector('.meta-links');
                if(metaLinks){
                    metaLinks.innerHTML = '';
                    if(data.website){ const a = document.createElement('a'); a.href = data.website; a.target='_blank'; a.className='pill'; a.textContent='Website'; metaLinks.appendChild(a); }
                }

                modal.setAttribute('aria-hidden','false');
                modal._trigger = trigger || document.activeElement;
                // focus first actionable button
                const resumeBtn = document.getElementById('modal-resume');
                if(resumeBtn) resumeBtn.focus();
                document.body.style.overflow = 'hidden';
            }

            function closeModal(){
                modal.setAttribute('aria-hidden','true');
                document.body.style.overflow = '';
                if(modal._trigger && modal._trigger.focus) modal._trigger.focus();
            }

            // Attach click handlers to posters
            document.querySelectorAll('.card').forEach(card=>{
                const poster = card.querySelector('.poster');
                const data = {
                    title: card.getAttribute('data-title'),
                    year: card.getAttribute('data-year'),
                    type: card.getAttribute('data-type'),
                    desc: card.getAttribute('data-desc'),
                    image: card.getAttribute('data-image'),
                    website: card.getAttribute('data-website'),
                    repo: card.getAttribute('data-repo'),
                    tech: card.getAttribute('data-tech'),
                    role: card.getAttribute('data-role'),
                    size: card.getAttribute('data-year')
                };
                function handleOpen(e){ console.log('poster clicked', data.title); openModal(data, poster); }
                poster.addEventListener('click', handleOpen);
                poster.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); handleOpen(); } });
                // also open when the article itself is focused and Enter pressed
                card.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ openModal(data, card); } });
            });

            // modal action handlers (guard elements)
            const modalResumeBtn = document.getElementById('modal-resume');
            if(modalResumeBtn){
                modalResumeBtn.addEventListener('click', ()=>{
                    // Open project live site if available
                    const url = document.querySelector('.meta-links a[href]') ? document.querySelector('.meta-links a[href]').href : null;
                    if(url) window.open(url, '_blank'); else alert('No live site provided for this project.');
                });
            }
            const modalAddBtn = document.getElementById('modal-add');
            if(modalAddBtn) modalAddBtn.addEventListener('click', ()=>{ alert('Added to favorites'); });
            const modalShareBtn = document.getElementById('modal-share');
            if(modalShareBtn) modalShareBtn.addEventListener('click', ()=>{ alert('Share project (placeholder)'); });

            // close handlers (new modal structure)
            const modalCloseBtn = document.getElementById('modal-close');
            if(modalCloseBtn) modalCloseBtn.addEventListener('click', closeModal);
            // clicking outside content closes
            modal.addEventListener('click', (e)=>{ if(e.target === modal) closeModal(); });
            document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape' && modal.getAttribute('aria-hidden') === 'false') closeModal(); });

        })();
    </script>
</body>
</html>
